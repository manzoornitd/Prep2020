#include <iostream>
#include <bits/stdc++.h>
using namespace std;

int main() {
	int t,i,n;
	cin>>t;
	while(t--)
	{
	     cin>>n;
	     int max1,min1,max2,min2;
	     max1=INT_MIN;
	     min1=INT_MAX;
	     max2=INT_MIN;
	     min2=INT_MAX;
	     int a[n];
	     for(i=0;i<n;i++)
	     cin>>a[i];
	     for(i=0;i<n;i++)
	     {
	          if(a[i]+i>max1)
	          max1=a[i]+i;
	          if(min1>a[i]+i)
	          min1=a[i]+i;
	          if(a[i]-i<min2)
	          min2=a[i]-i;
	          if(a[i]-i>max2)
	          max2=a[i]-i;
	          
	     }
	     cout<<max(max2-min2,max1-min1)<<endl;
	     
	}
	return 0;
}
